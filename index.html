<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bewustzijns-Mapping Explorer - 4D Quaternion Framework</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        header {
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 255, 255, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        h1 {
            font-size: 2em;
            text-shadow: 0 0 15px #00ffff;
            margin-bottom: 10px;
        }

        .author {
            color: #00ffff;
            font-size: 0.9em;
        }

        nav {
            background: rgba(0, 0, 0, 0.6);
            padding: 15px;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            position: sticky;
            top: 80px;
            z-index: 999;
        }

        .nav-btn {
            background: linear-gradient(135deg, #00ffff 0%, #0080ff 100%);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            color: #000;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.5);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #ff00ff 0%, #ff0080 100%);
            color: #fff;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.1);
        }

        h2 {
            color: #00ffff;
            margin-bottom: 15px;
            text-shadow: 0 0 10px #00ffff;
        }

        h3 {
            color: #00dddd;
            margin: 15px 0 10px 0;
        }

        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.3);
        }

        th {
            background: linear-gradient(135deg, #00ffff 0%, #0080ff 100%);
            color: #000;
            padding: 12px;
            text-align: left;
            font-weight: bold;
            position: sticky;
            top: 145px;
            z-index: 10;
        }

        td {
            padding: 10px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        tr:hover {
            background: rgba(0, 255, 255, 0.1);
        }

        .level-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
            text-align: center;
            min-width: 30px;
        }

        .level-1 { background: #ffffff; color: #000; }
        .level-2 { background: #0000ff; color: #fff; }
        .level-3 { background: #00ffff; color: #000; }
        .level-4 { background: #00ff00; color: #000; }
        .level-5 { background: #ffff00; color: #000; }
        .level-6 { background: #ffa500; color: #000; }
        .level-7 { background: #ff00ff; color: #fff; }
        .level-8 { background: #ff0000; color: #fff; }
        .level-9 { background: #8b4513; color: #fff; }

        #viz-container {
            width: 100%;
            height: 60vh;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
        }

        .search-container {
            margin: 20px 0;
            text-align: center;
        }

        #searchInput {
            width: 80%;
            max-width: 500px;
            padding: 12px;
            border-radius: 25px;
            border: 2px solid #00ffff;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            font-size: 16px;
        }

        #searchInput:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .system-selector {
            margin: 20px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .system-btn {
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid #00ffff;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            color: #fff;
            transition: all 0.3s;
        }

        .system-btn:hover {
            background: rgba(0, 255, 255, 0.4);
        }

        .system-btn.selected {
            background: #00ffff;
            color: #000;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1) 0%, rgba(255, 0, 255, 0.1) 100%);
            border-left: 4px solid #00ffff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .mini-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.5em; }
            nav { top: 70px; }
            th { top: 135px; }
            .nav-btn { padding: 8px 15px; font-size: 0.9em; }
        }
    </style>
</head>
<body>
    <header>
        <h1 id="mainTitle">Bewustzijns-Mapping Explorer</h1>
        <p class="author">4D Quaternion Framework | J. Konstapel, Leiden 2025</p>
        <button id="langToggle" class="nav-btn" style="position: absolute; top: 20px; right: 20px;">EN</button>
    </header>

    <nav id="mainNav">
        <button class="nav-btn active" onclick="showSection('home')">Home</button>
        <button class="nav-btn" onclick="showSection('core')">Kern Systemen</button>
        <button class="nav-btn" onclick="showSection('philosophy')">Filosofie</button>
        <button class="nav-btn" onclick="showSection('neuroscience')">Neuroscience</button>
        <button class="nav-btn" onclick="showSection('development')">Ontwikkeling</button>
        <button class="nav-btn" onclick="showSection('culture')">Cultuur & Kunst</button>
        <button class="nav-btn" onclick="showSection('compare')">Vergelijken</button>
        <button class="nav-btn" onclick="showSection('search')">Zoeken</button>
    </nav>

    <div class="container">
        <div id="home" class="section active">
            <div class="card">
                <h2>Welkom bij de Bewustzijns-Mapping Explorer</h2>
                <p>Deze interactieve website visualiseert de systematische mapping van bewustzijnssystemen gebaseerd op het principe dat alle tradities dezelfde paden beschrijven in een 4-dimensionale ruimte.</p>
                
                <div class="insight-box">
                    <strong>Kern Inzicht:</strong> Alle bewustzijnstradities zijn topologisch equivalent - ze beschrijven dezelfde transformatiepaden maar gebruiken verschillende labels en coördinatensystemen.
                </div>
            </div>

            <div class="card">
                <h2>4D Bewustzijnsruimte Visualisatie</h2>
                <div id="viz-container"></div>
                <p style="text-align: center; margin-top: 10px; color: #00ffff;">
                    9 Bewustzijnsniveaus in dynamische 4D rotatie
                </p>
            </div>

            <div class="card">
                <h2>4D Bewustzijnsruimte Dimensies</h2>
                <div class="grid-3">
                    <div class="mini-card">
                        <h3>1. Verticaal</h3>
                        <p>Ontwikkelingsniveau en complexiteit</p>
                    </div>
                    <div class="mini-card">
                        <h3>2. Horizontaal</h3>
                        <p>Veranderingsrichting en modaliteit</p>
                    </div>
                    <div class="mini-card">
                        <h3>3. Cyclisch</h3>
                        <p>Temporele fase en ritme</p>
                    </div>
                    <div class="mini-card">
                        <h3>4. Relationeel</h3>
                        <p>Context en omgeving</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="core" class="section">
            <div class="card">
                <h2>Kern Bewustzijnscentra Mapping</h2>
                <div class="table-container">
                    <table id="coreTable"></table>
                </div>
            </div>
        </div>

        <div id="philosophy" class="section">
            <div class="card">
                <h2>Filosofische & Spirituele Tradities</h2>
                <div class="table-container">
                    <table id="philosophyTable"></table>
                </div>
            </div>
        </div>

        <div id="neuroscience" class="section">
            <div class="card">
                <h2>Neurowetenschappen & Bewustzijnsonderzoek</h2>
                <div class="table-container">
                    <table id="neuroscienceTable"></table>
                </div>
            </div>
            
            <div class="card">
                <h2>Psychedelisch Onderzoek</h2>
                <div class="table-container">
                    <table id="psychedelicTable"></table>
                </div>
            </div>
        </div>

        <div id="development" class="section">
            <div class="card">
                <h2>Archetypen & Mythologie</h2>
                <div class="table-container">
                    <table id="archetypeTable"></table>
                </div>
            </div>
            
            <div class="card">
                <h2>Ontwikkelingspsychologie</h2>
                <div class="table-container">
                    <table id="developmentTable"></table>
                </div>
            </div>
        </div>

        <div id="culture" class="section">
            <div class="card">
                <h2>Muziektheorie & Vibratie</h2>
                <div class="table-container">
                    <table id="musicTable"></table>
                </div>
            </div>
            
            <div class="card">
                <h2>Kleurenpsychologie & Licht</h2>
                <div class="table-container">
                    <table id="colorTable"></table>
                </div>
            </div>
            
            <div class="card">
                <h2>Geometrie & Sacrale Vorm</h2>
                <div class="table-container">
                    <table id="geometryTable"></table>
                </div>
            </div>
        </div>

        <div id="compare" class="section">
            <div class="card">
                <h2>Systemen Vergelijken</h2>
                <p>Selecteer twee systemen om naast elkaar te vergelijken:</p>
                
                <div class="system-selector" id="systemSelector"></div>
                
                <div class="comparison-grid" id="comparisonGrid"></div>
            </div>

            <div class="card">
                <h2>Convergentie Patronen</h2>
                <div class="insight-box">
                    <h3>1. Verticale Progressie</h3>
                    <p>Alle systemen tonen beweging van materieel → emotioneel → mentaal → spiritueel</p>
                </div>
                <div class="insight-box">
                    <h3>2. Integratie op Niveau 6</h3>
                    <p>Bijna alle systemen hebben een integratief/balancerend element rond niveau 6 (Tiferet/Solar Plexus/Oranje)</p>
                </div>
                <div class="insight-box">
                    <h3>3. Transcendentie op Niveau 1-2</h3>
                    <p>Universele erkenning van transcendente toestanden aan de top</p>
                </div>
                <div class="insight-box">
                    <h3>4. Survival/Instinct Base</h3>
                    <p>Alle systemen erkennen basale overlevingslagen (7-8-9)</p>
                </div>
                <div class="insight-box">
                    <h3>5. Heart/Love Center</h3>
                    <p>Consistent hart/liefde centrum rond niveau 4 (Chesed/Anahata/G-centrum)</p>
                </div>
            </div>
        </div>

        <div id="search" class="section">
            <div class="card">
                <h2>Zoeken in Alle Systemen</h2>
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Zoek een concept, niveau, of term...">
                </div>
                <div id="searchResults"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let currentLang = 'nl';
        
        const translations = {
            nl: {
                mainTitle: "Bewustzijns-Mapping Explorer",
                nav: {
                    home: "Home",
                    core: "Kern Systemen",
                    philosophy: "Filosofie",
                    neuroscience: "Neuroscience",
                    development: "Ontwikkeling",
                    culture: "Cultuur & Kunst",
                    compare: "Vergelijken",
                    search: "Zoeken"
                }
            },
            en: {
                mainTitle: "Consciousness Mapping Explorer",
                nav: {
                    home: "Home",
                    core: "Core Systems",
                    philosophy: "Philosophy",
                    neuroscience: "Neuroscience",
                    development: "Development",
                    culture: "Culture & Art",
                    compare: "Compare",
                    search: "Search"
                }
            }
        };

        const coreData = [
            { level: 1, sefira: "Kether", chakra: "Sahasrara", hd: "Hoofd", function: "Pure bewustzijn", trigram: "☰ Qian", element: "Spirit/ether", wuxing: "Water→Wijsheid" },
            { level: 2, sefira: "Chokmah", chakra: "Ajna", hd: "Ajna", function: "Inzicht/visie", trigram: "☱ Dui", element: "Lucht/ether", wuxing: "Metaal→Precisie" },
            { level: 3, sefira: "Binah", chakra: "Vishuddha", hd: "Keel", function: "Begrip/expressie", trigram: "☲ Li", element: "Vuur/ruimte", wuxing: "Vuur→Expressie" },
            { level: 4, sefira: "Chesed", chakra: "Anahata", hd: "G-centrum", function: "Liefde/richting", trigram: "☳ Zhen", element: "Lucht", wuxing: "Hout→Groei" },
            { level: 5, sefira: "Gevurah", chakra: "Manipura", hd: "Hart/Ego", function: "Wil/afbakening", trigram: "☴ Xun", element: "Vuur", wuxing: "Vuur→Kracht" },
            { level: 6, sefira: "Tiferet", chakra: "Manipura", hd: "Solar Plexus", function: "Emotie/balans", trigram: "☵ Kan", element: "Water", wuxing: "Aarde→Integratie" },
            { level: 7, sefira: "Netzach", chakra: "Svadhisthana", hd: "Sacraal", function: "Levenskracht/creatie", trigram: "☶ Gen", element: "Aarde", wuxing: "Hout→Creatie" },
            { level: 8, sefira: "Hod", chakra: "Svadhisthana", hd: "Milt", function: "Presentie/instinct", trigram: "☷ Kun", element: "Aarde", wuxing: "Aarde→Stabilisatie" },
            { level: 9, sefira: "Yesod", chakra: "Muladhara", hd: "Root", function: "Druk/manifestatie", trigram: "—", element: "Aarde", wuxing: "Aarde→Drager" }
        ];

        const philosophyData = [
            { level: 1, jung: "Zelf", aurobindo: "Overmind", vedanta: "Sat", sufisme: "Fana fi'llah", gurdjieff: "Higher Emotional", spiral: "Turquoise" },
            { level: 2, jung: "Intuition", aurobindo: "Intuitive Mind", vedanta: "Chit", sufisme: "Sirr", gurdjieff: "Higher Mental", spiral: "Yellow" },
            { level: 3, jung: "Thinking", aurobindo: "Illumined Mind", vedanta: "Ananda", sufisme: "Ruh", gurdjieff: "Intellectual", spiral: "Green" },
            { level: 4, jung: "Feeling", aurobindo: "Higher Mind", vedanta: "Vijnanamaya", sufisme: "Qalb", gurdjieff: "Higher Moving", spiral: "Orange" },
            { level: 5, jung: "Sensation", aurobindo: "Mind Proper", vedanta: "Pranamaya", sufisme: "Nafs", gurdjieff: "Moving", spiral: "Red" },
            { level: 6, jung: "—", aurobindo: "Vital", vedanta: "Pranamaya", sufisme: "Hawa", gurdjieff: "Emotional", spiral: "Blue" },
            { level: 7, jung: "—", aurobindo: "Life-Force", vedanta: "Annamaya", sufisme: "Shahwa", gurdjieff: "Instinctive", spiral: "Purple" },
            { level: 8, jung: "—", aurobindo: "Physical", vedanta: "Annamaya", sufisme: "Jism", gurdjieff: "—", spiral: "Beige" }
        ];

        const neuroscienceData = [
            { level: 1, neural: "Claustrum/Thalamus", iit: "Maximale integratie", workspace: "Global broadcasting", leary: "Neuro-atomic" },
            { level: 2, neural: "Prefrontal cortex", iit: "Hoge Φ", workspace: "Executive attention", leary: "Neuro-genetic" },
            { level: 3, neural: "Wernicke/Broca", iit: "Taal-integratie", workspace: "Language networks", leary: "Neuro-somatic" },
            { level: 4, neural: "Anterior cingulate", iit: "Empathie-netwerk", workspace: "Social cognition", leary: "Socio-sexual" },
            { level: 5, neural: "Dorsal attention", iit: "Conflict monitoring", workspace: "Cognitive control", leary: "Neuro-political" },
            { level: 6, neural: "Default mode network", iit: "Self-referential", workspace: "Mind-wandering", leary: "Neuro-temporal" },
            { level: 7, neural: "Limbic system", iit: "Emotie-integratie", workspace: "Salience network", leary: "Bio-survival" },
            { level: 8, neural: "Insula/interoception", iit: "Body-awareness", workspace: "Interoceptive network", leary: "—" }
        ];

        const psychedelicData = [
            { centrum: "Hoofd", dmt: "Ego dissolution", psilocybin: "Oceanic boundlessness", lsd: "Unity consciousness", mdma: "—", ketamine: "Hole experience", meditation: "Nirvikalpa samadhi" },
            { centrum: "Ajna", dmt: "Geometric visions", psilocybin: "Sacred geometry", lsd: "Fractal insights", mdma: "—", ketamine: "Dissociation", meditation: "Savikalpa samadhi" },
            { centrum: "Keel", dmt: "—", psilocybin: "Ineffability", lsd: "Creative expression", mdma: "Emotional openness", ketamine: "—", meditation: "Dharana" },
            { centrum: "G", dmt: "—", psilocybin: "Interconnectedness", lsd: "Love/compassion", mdma: "Heart opening", ketamine: "—", meditation: "Dhyana" },
            { centrum: "Ego", dmt: "—", psilocybin: "—", lsd: "Enhanced creativity", mdma: "Confidence", ketamine: "—", meditation: "Pratyahara" },
            { centrum: "Solar Plexus", dmt: "Body dissolution", psilocybin: "Emotional release", lsd: "Mood enhancement", mdma: "Empathy", ketamine: "Body detachment", meditation: "—" }
        ];

        const archetypeData = [
            { level: 1, jung: "Self", tarot: "World/Fool", greek: "Zeus/Ouranos", hindu: "Brahma", celtic: "Lugh/Odin", campbell: "Return" },
            { level: 2, jung: "Wise Old Man", tarot: "Hermit/Magician", greek: "Hermes/Apollo", hindu: "Saraswati", celtic: "Lugh/Heimdall", campbell: "Revelation" },
            { level: 3, jung: "Great Mother", tarot: "High Priestess", greek: "Athena/Hera", hindu: "Lakshmi", celtic: "Brigid/Frigg", campbell: "Transformation" },
            { level: 4, jung: "Anima/Animus", tarot: "Lovers/Empress", greek: "Aphrodite/Eros", hindu: "Vishnu", celtic: "Danu/Freyr", campbell: "Meeting Goddess" },
            { level: 5, jung: "Hero", tarot: "Emperor/Chariot", greek: "Ares/Hephaistos", hindu: "Indra", celtic: "Nuada/Thor", campbell: "Ordeal" },
            { level: 6, jung: "Trickster", tarot: "Devil/Tower", greek: "Dionysus", hindu: "Shiva", celtic: "Loki", campbell: "Road of Trials" },
            { level: 7, jung: "Shadow", tarot: "Death/Moon", greek: "Hades/Persephone", hindu: "Kali", celtic: "Morrigan/Hel", campbell: "Threshold Guardian" },
            { level: 8, jung: "—", tarot: "Star/Sun", greek: "Pan/Gaia", hindu: "Ganesha", celtic: "Cernunnos/Jord", campbell: "Call to Adventure" }
        ];

        const developmentData = [
            { level: "1-2", piaget: "Formal operational+", kohlberg: "Universal principles", gilligan: "Care/Justice integration", fowler: "Universalizing", beck: "Integral/Holistic", kegan: "Self-transforming" },
            { level: "3-4", piaget: "Formal operational", kohlberg: "Social contract", gilligan: "Contextual care", fowler: "Conjunctive", beck: "Integrative", kegan: "Self-authoring" },
            { level: "5-6", piaget: "Concrete operational", kohlberg: "Law and order", gilligan: "Relational responsibility", fowler: "Individuative", beck: "Achievist/Communitarian", kegan: "Socialized" },
            { level: "7-8", piaget: "Preoperational", kohlberg: "Interpersonal", gilligan: "Self-sacrifice", fowler: "Synthetic", beck: "Traditionalist", kegan: "Imperial" },
            { level: "9", piaget: "Sensorimotor", kohlberg: "Punishment avoidance", gilligan: "Survival", fowler: "Primal", beck: "Survivalist", kegan: "Incorporative" }
        ];

        const musicData = [
            { level: 1, interval: "Unison (1:1)", scale: "Chromatic", harmony: "Unity/Silence", freq: "432/528", instruments: "Silence/Om" },
            { level: 2, interval: "Octave (2:1)", scale: "Whole tone", harmony: "Perfect resonance", freq: "216-432", instruments: "Crystal bowls" },
            { level: 3, interval: "Perfect 5th (3:2)", scale: "Pentatonic", harmony: "Major triads", freq: "144-288", instruments: "Voice/mantra" },
            { level: 4, interval: "Perfect 4th (4:3)", scale: "Major scales", harmony: "Heart harmonies", freq: "108-216", instruments: "Strings/harp" },
            { level: 5, interval: "Major 3rd (5:4)", scale: "Minor scales", harmony: "Power chords", freq: "72-144", instruments: "Brass/wind" },
            { level: 6, interval: "Minor 3rd (6:5)", scale: "Dorian/blues", harmony: "Emotional tensions", freq: "54-108", instruments: "Piano/percussion" },
            { level: 7, interval: "Minor 2nd (16:15)", scale: "Phrygian", harmony: "Dissonance", freq: "36-72", instruments: "Drums/rhythm" },
            { level: 8, interval: "Semitone (25:24)", scale: "Microtonal", harmony: "Primal sounds", freq: "18-36", instruments: "Body percussion" }
        ];

        const colorData = [
            { level: 1, color: "Wit/Helder", wavelength: "Alle/∞", chakraColor: "Wit/Goud", psychology: "Transcendentie", art: "Conceptual art" },
            { level: 2, color: "Indigo/Violet", wavelength: "380-450", chakraColor: "Indigo", psychology: "Intuïtie/Wijsheid", art: "Suprematism" },
            { level: 3, color: "Blauw", wavelength: "450-495", chakraColor: "Blauw", psychology: "Communicatie/Waarheid", art: "Expressionism" },
            { level: 4, color: "Groen", wavelength: "495-570", chakraColor: "Groen", psychology: "Liefde/Balans", art: "Impressionism" },
            { level: 5, color: "Geel", wavelength: "570-590", chakraColor: "Geel", psychology: "Wilskracht/Ego", art: "Cubism" },
            { level: 6, color: "Oranje", wavelength: "590-620", chakraColor: "Oranje", psychology: "Emotie/Creativiteit", art: "Fauvism" },
            { level: 7, color: "Rood", wavelength: "620-750", chakraColor: "Rood", psychology: "Passie/Vitaliteit", art: "Romanticism" },
            { level: 8, color: "Zwart/Bruin", wavelength: "Absorptie", chakraColor: "—", psychology: "Grounding/Materie", art: "Realism" }
        ];

        const geometryData = [
            { level: 1, platonic: "Sphere/Point", geometry2d: "Circle", fractals: "Mandelbrot set", architecture: "Dome/Circle", mandala: "Yantra center" },
            { level: 2, platonic: "Icosahedron", geometry2d: "Icosagon", fractals: "Julia sets", architecture: "Gothic spires", mandala: "Sri Yantra" },
            { level: 3, platonic: "Dodecahedron", geometry2d: "Pentagon", fractals: "Sierpinski", architecture: "Pentagonal", mandala: "Flower of Life" },
            { level: 4, platonic: "Octahedron", geometry2d: "Square", fractals: "Koch snowflake", architecture: "Square buildings", mandala: "Rose windows" },
            { level: 5, platonic: "Hexahedron (Cube)", geometry2d: "Triangle", fractals: "Dragon curve", architecture: "Pyramids", mandala: "Triangular" },
            { level: 6, platonic: "Tetrahedron", geometry2d: "—", fractals: "Cantor set", architecture: "Basic structures", mandala: "Cross patterns" },
            { level: "7-8", platonic: "—", geometry2d: "Line/Point", fractals: "Simple iterations", architecture: "Linear/Basic", mandala: "Simple mandalas" }
        ];

        function generateTable(data, columns) {
            let html = '<thead><tr>';
            columns.forEach(col => {
                html += `<th>${col.label}</th>`;
            });
            html += '</tr></thead><tbody>';
            
            data.forEach(row => {
                html += '<tr>';
                columns.forEach(col => {
                    let value = row[col.key];
                    if (col.key === 'level' && typeof value === 'number') {
                        value = `<span class="level-badge level-${value}">${value}</span>`;
                    }
                    html += `<td>${value || '—'}</td>`;
                });
                html += '</tr>';
            });
            
            html += '</tbody>';
            return html;
        }

        function generateAllTables() {
            document.getElementById('coreTable').innerHTML = generateTable(coreData, [
                { key: 'level', label: 'Niveau' },
                { key: 'sefira', label: 'Sefira' },
                { key: 'chakra', label: 'Chakra' },
                { key: 'hd', label: 'HD-Centrum' },
                { key: 'function', label: 'Functie' },
                { key: 'trigram', label: 'Trigram' },
                { key: 'element', label: '4-Element' },
                { key: 'wuxing', label: 'Wu-Xing' }
            ]);

            document.getElementById('philosophyTable').innerHTML = generateTable(philosophyData, [
                { key: 'level', label: 'Niveau' },
                { key: 'jung', label: 'Jung' },
                { key: 'aurobindo', label: 'Sri Aurobindo' },
                { key: 'vedanta', label: 'Vedanta' },
                { key: 'sufisme', label: 'Sufisme' },
                { key: 'gurdjieff', label: 'Gurdjieff' },
                { key: 'spiral', label: 'Spiral Dynamics' }
            ]);

            document.getElementById('neuroscienceTable').innerHTML = generateTable(neuroscienceData, [
                { key: 'level', label: 'Niveau' },
                { key: 'neural', label: 'Neurale Netwerken' },
                { key: 'iit', label: 'IIT Φ-complexiteit' },
                { key: 'workspace', label: 'Global Workspace' },
                { key: 'leary', label: 'Leary 8-Circuit' }
            ]);

            document.getElementById('psychedelicTable').innerHTML = generateTable(psychedelicData, [
                { key: 'centrum', label: 'Centrum' },
                { key: 'dmt', label: '5-MeO-DMT' },
                { key: 'psilocybin', label: 'Psilocybin' },
                { key: 'lsd', label: 'LSD' },
                { key: 'mdma', label: 'MDMA' },
                { key: 'ketamine', label: 'Ketamine' },
                { key: 'meditation', label: 'Meditation States' }
            ]);

            document.getElementById('archetypeTable').innerHTML = generateTable(archetypeData, [
                { key: 'level', label: 'Niveau' },
                { key: 'jung', label: 'Jung' },
                { key: 'tarot', label: 'Tarot Majors' },
                { key: 'greek', label: 'Greek Gods' },
                { key: 'hindu', label: 'Hindu Devas' },
                { key: 'celtic', label: 'Celtic/Nordic' },
                { key: 'campbell', label: 'Campbell Hero' }
            ]);

            document.getElementById('developmentTable').innerHTML = generateTable(developmentData, [
                { key: 'level', label: 'Niveau' },
                { key: 'piaget', label: 'Piaget' },
                { key: 'kohlberg', label: 'Kohlberg' },
                { key: 'gilligan', label: 'Gilligan' },
                { key: 'fowler', label: 'Fowler Faith' },
                { key: 'beck', label: 'Beck & Cowan' },
                { key: 'kegan', label: 'Kegan' }
            ]);

            document.getElementById('musicTable').innerHTML = generateTable(musicData, [
                { key: 'level', label: 'Niveau' },
                { key: 'interval', label: 'Musical Intervals' },
                { key: 'scale', label: 'Scales' },
                { key: 'harmony', label: 'Harmonies' },
                { key: 'freq', label: 'Frequencies (Hz)' },
                { key: 'instruments', label: 'Instruments' }
            ]);

            document.getElementById('colorTable').innerHTML = generateTable(colorData, [
                { key: 'level', label: 'Niveau' },
                { key: 'color', label: 'Colors' },
                { key: 'wavelength', label: 'Wavelength (nm)' },
                { key: 'chakraColor', label: 'Chakra Colors' },
                { key: 'psychology', label: 'Psychological Effect' },
                { key: 'art', label: 'Artistic Movements' }
            ]);

            document.getElementById('geometryTable').innerHTML = generateTable(geometryData, [
                { key: 'level', label: 'Niveau' },
                { key: 'platonic', label: 'Platonic Solids' },
                { key: 'geometry2d', label: '2D Geometry' },
                { key: 'fractals', label: 'Fractals' },
                { key: 'architecture', label: 'Architecture' },
                { key: 'mandala', label: 'Mandala Patterns' }
            ]);
        }

        generateAllTables();

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        const allSystems = [
            { id: 'sefira', name: 'Sefira (Kabbala)', data: coreData, key: 'sefira' },
            { id: 'chakra', name: 'Chakra', data: coreData, key: 'chakra' },
            { id: 'hd', name: 'Human Design', data: coreData, key: 'hd' },
            { id: 'jung', name: 'Jung', data: philosophyData, key: 'jung' },
            { id: 'spiral', name: 'Spiral Dynamics', data: philosophyData, key: 'spiral' },
            { id: 'neural', name: 'Neurale Netwerken', data: neuroscienceData, key: 'neural' },
            { id: 'tarot', name: 'Tarot', data: archetypeData, key: 'tarot' },
            { id: 'piaget', name: 'Piaget', data: developmentData, key: 'piaget' }
        ];

        let selectedSystems = [];

        function initComparison() {
            const selector = document.getElementById('systemSelector');
            allSystems.forEach(system => {
                const btn = document.createElement('button');
                btn.className = 'system-btn';
                btn.textContent = system.name;
                btn.onclick = () => toggleSystem(system.id, btn);
                selector.appendChild(btn);
            });
        }

        function toggleSystem(systemId, btn) {
            const index = selectedSystems.indexOf(systemId);
            if (index > -1) {
                selectedSystems.splice(index, 1);
                btn.classList.remove('selected');
            } else {
                if (selectedSystems.length < 2) {
                    selectedSystems.push(systemId);
                    btn.classList.add('selected');
                }
            }
            updateComparison();
        }

        function updateComparison() {
            const grid = document.getElementById('comparisonGrid');
            grid.innerHTML = '';
            
            if (selectedSystems.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #00ffff;">Selecteer twee systemen om te vergelijken</p>';
                return;
            }
            
            selectedSystems.forEach(sysId => {
                const system = allSystems.find(s => s.id === sysId);
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <h3>${system.name}</h3>
                    <table>
                        <thead><tr><th>Niveau</th><th>${system.name}</th></tr></thead>
                        <tbody>
                            ${system.data.map(row => `
                                <tr>
                                    <td><span class="level-badge level-${row.level}">${row.level}</span></td>
                                    <td>${row[system.key] || '—'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
                grid.appendChild(card);
            });
        }

        initComparison();

        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase().trim();
            if (query.length < 2) {
                searchResults.innerHTML = '';
                return;
            }
            
            const results = [];
            const allData = [
                { name: 'Kern Systemen', data: coreData },
                { name: 'Filosofie', data: philosophyData },
                { name: 'Neuroscience', data: neuroscienceData },
                { name: 'Archetypen', data: archetypeData },
                { name: 'Ontwikkeling', data: developmentData },
                { name: 'Muziek', data: musicData },
                { name: 'Kleur', data: colorData },
                { name: 'Geometrie', data: geometryData }
            ];
            
            allData.forEach(category => {
                category.data.forEach(row => {
                    const rowText = JSON.stringify(row).toLowerCase();
                    if (rowText.includes(query)) {
                        results.push({ category: category.name, row: row });
                    }
                });
            });
            
            if (results.length === 0) {
                searchResults.innerHTML = '<p style="text-align: center; color: #888;">Geen resultaten gevonden</p>';
                return;
            }
            
            searchResults.innerHTML = `<h3>Gevonden ${results.length} resultaten:</h3>`;
            results.forEach(result => {
                const card = document.createElement('div');
                card.className = 'mini-card';
                card.innerHTML = `
                    <strong>${result.category}</strong> - Niveau ${result.row.level || result.row.level}
                    <br><small>${JSON.stringify(result.row).substring(0, 200)}...</small>
                `;
                searchResults.appendChild(card);
            });
        });

        document.getElementById('langToggle').addEventListener('click', function() {
            currentLang = currentLang === 'nl' ? 'en' : 'nl';
            this.textContent = currentLang === 'nl' ? 'EN' : 'NL';
            document.getElementById('mainTitle').textContent = translations[currentLang].mainTitle;
            const navBtns = document.querySelectorAll('#mainNav .nav-btn');
            const navKeys = Object.keys(translations[currentLang].nav);
            navBtns.forEach((btn, i) => {
                btn.textContent = translations[currentLang].nav[navKeys[i]];
            });
        });

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(50, window.innerWidth / (window.innerHeight * 0.6), 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        
        const container = document.getElementById('viz-container');
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setClearColor(0x000000, 0);
        container.appendChild(renderer.domElement);

        const consciousnessLevels = [
            { level: 1, color: 0xffffff, w: 0.1, radius: 0.3 },
            { level: 2, color: 0x4444ff, w: 0.2, radius: 0.4 },
            { level: 3, color: 0x00ffff, w: 0.3, radius: 0.5 },
            { level: 4, color: 0x00ff00, w: 0.4, radius: 0.6 },
            { level: 5, color: 0xffff00, w: 0.5, radius: 0.7 },
            { level: 6, color: 0xffa500, w: 0.6, radius: 0.8 },
            { level: 7, color: 0xff00ff, w: 0.7, radius: 0.9 },
            { level: 8, color: 0xff0000, w: 0.8, radius: 1.0 },
            { level: 9, color: 0x8b4513, w: 0.9, radius: 1.1 }
        ];

        const spheres = [];
        consciousnessLevels.forEach(level => {
            const geometry = new THREE.SphereGeometry(level.radius, 32, 32);
            const material = new THREE.MeshPhongMaterial({ 
                color: level.color, 
                shininess: 100,
                transparent: true,
                opacity: 0.7,
                emissive: level.color,
                emissiveIntensity: 0.2
            });
            const sphere = new THREE.Mesh(geometry, material);
            
            const theta = (level.level - 1) * (Math.PI * 2 / 9);
            const r = 4;
            sphere.position.set(
                r * Math.cos(theta),
                level.w * 6 - 2,
                r * Math.sin(theta)
            );
            
            scene.add(sphere);
            spheres.push(sphere);
        });

        const ambientLight = new THREE.AmbientLight(0x404040, 0.8);
        scene.add(ambientLight);
        
        const pointLight1 = new THREE.PointLight(0x00ffff, 1, 100);
        pointLight1.position.set(10, 10, 10);
        scene.add(pointLight1);
        
        const pointLight2 = new THREE.PointLight(0xff00ff, 0.5, 100);
        pointLight2.position.set(-10, 5, -10);
        scene.add(pointLight2);

        camera.position.set(8, 5, 8);
        camera.lookAt(0, 2, 0);

        let frame = 0;

        function animate() {
            requestAnimationFrame(animate);
            
            const t = frame * 0.01;
            
            spheres.forEach((sphere, index) => {
                const level = consciousnessLevels[index];
                const theta = t + (level.level - 1) * (Math.PI * 2 / 9);
                const r = 4 + Math.sin(t) * 0.5;
                
                sphere.position.set(
                    r * Math.cos(theta),
                    level.w * 6 - 2 + Math.sin(t * 2 + level.level) * 0.3,
                    r * Math.sin(theta)
                );
                
                sphere.rotation.x += 0.01 * level.level;
                sphere.rotation.y += 0.01 * level.level;
                
                sphere.material.opacity = 0.5 + 0.3 * Math.sin(t * level.level);
            });
            
            camera.position.x = 8 * Math.cos(t * 0.2);
            camera.position.z = 8 * Math.sin(t * 0.2);
            camera.lookAt(0, 2, 0);
            
            renderer.render(scene, camera);
            frame++;
        }
        animate();

        window.addEventListener('resize', () => {
            const container = document.getElementById('viz-container');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    </script>
</body>
</html>
